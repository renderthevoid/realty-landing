(()=>{"use strict";var e,t,n,o,c,i,r,l,a,s,d,u,m=function(e){var t=document.querySelector(e);document.addEventListener("scroll",(function(){var e=t.getBoundingClientRect().y;t.style.backgroundPositionY="0".concat(.8*-e,"px")}))},v=function(e,t){var n=document.querySelector(e),o=document.querySelector(t);n&&o&&n.addEventListener("click",(function(e){e.preventDefault(),o.classList.add("modal_active")}))},f=/^\+?[78][-\(]?\d{3}\)?-?\d{3}-?\d{2}-?\d{2}$/,w=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,_=document.querySelector(".consult-form"),y=(document.querySelector(".consult-form__btn"),document.querySelector(".consult-form__input")),h=document.querySelector(".consult-form__phone"),L=document.querySelector(".consult-form__email"),p=document.querySelector(".consult-form__caution");m(".hero"),m(".contacts"),v(".open-modal",'.modal[data-modal="question"]'),v(".open-modal-mobile",'.modal[data-modal="question"]'),(e=document.querySelectorAll(".modal"))&&e.forEach((function(e){e.addEventListener("click",(function(t){t.target.closest(".modal__close")&&e.classList.remove("modal_active"),t.target.closest(".modal__body")||e.classList.remove("modal_active")}))})),o=(n=document.querySelector(".menu")).querySelector(".menu__button",".menu__lines"),c=n.querySelectorAll(".menu__item"),i=n.querySelector(".menu__overlay"),r=function(){n.classList.toggle("active"),n.classList.contains("active")?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="visible"},o.addEventListener("click",(function(e){e.preventDefault(),r()})),window.addEventListener("resize",(t=function(){c.forEach((function(e){window.innerWidth<1096?e.addEventListener("click",r):e.removeEventListener("click",r)}))},250,function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var c=this.lastCall;this.lastCall=Date.now(),c&&this.lastCall-c<=250&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout((function(){return t.apply(void 0,n)}),250)})),window.addEventListener("load",(function(){c.forEach((function(e){window.innerWidth<1096?e.addEventListener("click",r):e.removeEventListener("click",r)}))})),i.addEventListener("click",r),document.querySelector(".consult-form__btn").addEventListener("click",(function(e){var t;e.preventDefault(),y.value.length&&(t=h.value,f.test(t))&&function(e){return w.test(e)}(L.value)&&document.querySelector(".checkbox-item").checked?_.innerHTML="<div>Успех</div>":p.innerText="Заполнены не все поля"})),new Swiper(".swiper",{observer:!0,observeParents:!0,observeSlideChildren:!0,slidesPerView:3,spaceBetween:60,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:30},700:{slidesPerView:2,spaceBetween:100},1e3:{slidesPerView:2,spaceBetween:350},1265:{slidesPerView:3,spaceBetween:60}}}),l=document.querySelectorAll(".work__tab"),a=document.querySelector(".work__tabs"),s=document.querySelectorAll(".tab-content"),d=function(e){s[e].classList.contains("hide")&&(s[e].classList.remove("hide"),s[e].classList.add("show"))},(u=function(e){for(var t=e;t<s.length;t++)s[t].classList.remove("show"),s[t].classList.add("hide")})(1),l[0].classList.add("active"),a.addEventListener("click",(function(e){if(l.forEach((function(e){return e.classList.remove("active")})),e.target&&e.target.classList.contains("work__tab"))for(var t=0;t<l.length;t++)if(e.target==l[t]){e.target.classList.add("active"),u(0),d(t);break}}));var S=document.querySelector(".consult-form__phone");IMask(S,{mask:"+{7}(900)000-00-00"}),window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".menu__items");function t(t){var n,o=document.querySelector(t),c=window.getComputedStyle(o);null!==o&&(n=o.getBoundingClientRect().top+window.pageYOffset-e.clientHeight-parseFloat(c.marginTop),window.scrollTo({top:n,behavior:"smooth"}))}document.querySelector(".top-button"),""!=window.location.hash&&t(window.location.hash),e.addEventListener("click",(function(e){e.target.classList.contains("menu__link")&&(e.preventDefault(),t(e.target.hash))}))}))})();
//# sourceMappingURL=main.js.map